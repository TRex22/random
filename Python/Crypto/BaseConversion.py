coll = ['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f',
        'g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w',
        'x','y','z','.',' ',',','/',';','\'','\\',']','[','`','!','@','#','$',
        '^','&','*','(',')','-','_','=','+','{','}',':','"','<','>','?','%',
        '¡','¢','£','¥','¦','¤','§','¨','©','¹','ª','¸','«','·','¬','µ','®',
        '²','¯','±','°','³','º','»','¼','½','¾','¿','À','Á','Â','Ã','Ä','Å',
        'Æ','Ç','È','É','Ê','Ë','Ì','Í','Î','Ï','Ð','Ñ','Ò','Ó','Ô','Õ','Ö',
        '×','Ø','Ù','Ú','Û','Ü','Ý','Þ','à','ß','á','â','ã','ä','å','æ','ç',
        'è','é','ê','ë','ì','í','î','ï','ð','ñ','ò','ó','ô','õ','ö','÷','ø',
        'ù','ú','û','ü','ý','þ','ÿ','Ā','ā','Ă','ă','Ą','ą','Ć','ć','Ĉ','ĉ',
        'Ċ','ċ','Č','č','Ď','ď','Đ','đ','Ē','ē','Ĕ','ĕ','Ė','ė','Ę','ę','Ě',
        'ě','Ĝ','ĝ','Ğ','ğ','Ġ','ġ','Ģ','ģ','Ĥ','ĥ','Ħ','ħ','Ĩ','ĩ','ī','Ī',
        'Ĭ','ĭ','Į','į','İ','ı','Ĳ','ĳ','Ĵ','ĵ','Ķ','ķ','ĸ','Ĺ','ĺ','Ļ','ļ',
        'Ľ','ľ','Ŀ','ŀ','Ł','ł','Ń','ń','Ņ','ņ','Ň','ň','ŉ','Ŋ','ŋ','Ō','ō',
        'Ŏ','ŏ','Ő','ő','Œ','œ','Ŕ','ŕ','Ŗ','ŗ','Ř','ř','Ś','ś','Ŝ','ŝ','Ş',
        'ş','Š','š','Ţ','ţ','Ť','ť','Ŧ','ŧ','Ũ','ũ','Ū','ū','Ŭ','ŭ','Ů','ů',
        'Ű','ű','Ų','ų','Ŵ','Ŷ','ŵ','ŷ','Ÿ','Ź','ź','Ż','ż','Ž','ž','ſ','Ə',
        'ƒ','Ơ','ơ','Ư','ư','Ǎ','ǎ','Ǐ','ǐ','Ǒ','ǒ','Ǔ','ǔ','Ǖ','ǖ','Ǘ','ǘ',
        'Ǚ','ǚ','Ǜ','ǜ','Ǻ','ǻ','Ǽ','ǽ','Ǿ','ǿ','ə','ˆ','ˇ','ˉ','˘','˙','˚',
        '˛','˜','˝','̀','́','̃','̉','̣',';','΄','Ά','·','Έ','Ή','Ί','Ό','Ύ',
        'Ώ','ΐ','₤','₧','₪','₫','€','℅','ℓ','№','™','℮','⅓','⅔','⅜','⅝','⅞',
        '←','↑','→','↓','↔','↕','↨','∂','∆','∏','∑','∙','√','∞','∟','∩','∫',
        '≈','≠','≤','≥','⌂','⌠','─','┌','│','┐','└','┘','├','┤','┬','┴','┼',
        '═','╒','║','╓','╔','╖','╗','╘','╚','╛','╜','╞','╟','╠','╡','╢','╣',
        '╤','╥','╦','╧','╨','╩','╪','╬','╫','▀','▌','▐','█','▄','░','▒','▓',
        '■','□','▪','▫','▬','▲','►','▼','◄','◊','○','●','◘','◙','◦','☺','☻',
        '☼','♀','♂','♠','♦','♥','♫','','','',''
        ]
#coll = set(coll) #remove dupes
a = 'max size: ' + str(len(coll))
print(a)

print('note, base 38 contains space and fullstop')

cb = int(input('Current base: '))
nb = int(input('New base: '))
mes = input('message: ')

lent = len(mes)
curr = 0

a = 0

#get a value of a letter from the base (eg. F = 15)
def find_letter_pos(tup,let):
    ans = -1
    for i in range(len(tup)):
        if tup[i] == let:
            ans = i

    #debuging - print(ans)
    return ans


#convert to base 10 first for ease
for letter in mes:
    curr += 1
    a = a + find_letter_pos(coll,letter)*cb**(lent-curr)

#debugging - print(a)

q = 1
dec = a
base = nb
final = ''
rem = 0

while (q != 0):
    q = dec//base
    rem = dec-(q*base)
    final = coll[rem] + final
    dec = q

print(final)
input()
